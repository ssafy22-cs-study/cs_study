## 조인의 원리

조인의 종류인 inner join, left outer join, right outer join, full outer join은 

3개의 조인의 원리에 기반해 진행된다.

## 1️⃣ 중첩 루프 조인

> 중첩 for문과 같은 방식으로 조인
> 

두 조건에 모두 부합하는 레코드를 찾아 반환

### Ex. t1, t2 테이블을 조인

t1 테이블에서 행을 한 번에 하나씩 읽고 그다음 테이블에서도 행을 하나씩 읽어 조건에 맞는 레코드를 읽음

## 2️⃣ 정렬 병합 조인

> 각 테이블을 필드 기준으로 정렬 후 조인
> 

## 3️⃣ 해시 조인

> 해시 테이블을 기반으로 조인
> 

### Ex. MySQL - 두 개의 테이블 조인

하나의 테이블을 전부 메모리에 올릴 수 있는 경우, 중첩 루프 조인보다 효율적

1. 빌드 단계
    
    persons, countries 테이블 조인
    
    country id 속성값이 같은
    
    둘 중 바이트가 더 적은 테이블을 해시 테이블의 key로 지정
    
    countries.country_id를 해시 테이블의 key로 지정
    
2. 프로브 단계
    
    persons의 레코드를 하나씩 돌면서 해시 테이블의 key로 일치하는 레코드를 찾음
