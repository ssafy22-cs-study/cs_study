# 디자인 패턴

: 프로그램을 설계할 때 발생했던 문제점들을 객체 간의 상호 관계 등을 이용하여 해결할 수 있도록 하나의 “규약” 형태로 만들어 놓은 것

# 싱글톤 패턴(Singleton Pattern)

: 하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴

- 보통 데이터베이스 연결 모듈에 많이 사용함
- 장점: 하나의 인스턴스를 만들고 다른 모듈들이 공유하며 사용하기 때문에 인스턴스를 생성할 때 드는 비용이 줄어듦
- 단점
    - 인스턴스 하나만 사용하기 때문에 의존성이 높아짐 (모듈 간의 결합이 강하게 만들어질 수 있음) → [의존성 주입](https://www.notion.so/1-1-1-916cd1ef44ac456d8623939662fcf9e9?pvs=21)을 통해 해결
    - TDD(Test Driven Development)할 때 싱글톤 패턴은 독립적인 인스턴스를 만들기가 어려움.

- [C++ 로 구현한다면?](https://hwan-shell.tistory.com/227)

## 의존성 주입 (DI, Dependency Injection)

- [의존관계 주입(Dependency Injection) 쉽게 이해하기](https://hwan-shell.tistory.com/227)

### 의존성

- 종속성
- A가 B에 의존성이 있다.
    - B의 변경 사항에 대해 A 또한 변해야 한다.

### 의존성 주입

- 장점
    - 테스팅하기 쉽고 마이그레이션하기 수월함 (**∵** 모듈들을 쉽게 교체할 수 있는 구조)
    - 애플리케이션 의존성 방향이 일관되고, 쉽게 추론할 수 있음 (∵ 추상화 레이어를 넣고 이를 기반으로 구현체를 넣어주는 형태) → 모듈 간의 관계들이 명확해짐
    - 모듈 같의 결합을 느슨하게 만듦
- 단점
    - 클래스 수 or 복잡성 증가
    - 런타임 페널티 생길 수도 있음
- 원칙
    - 상위 모듈은 하위 모듈에서 어떠한 것도 가져오지 않아야 함.
    - 상위 모듈, 하위 모듈 모두 추상화에 의존해야 함. (세부 사항 의존X)
