# 3.4 CPU 스케줄링알고리즘

태그: 운영체제

### CPU 스케줄링 알고리즘

- 어떤 프로그램에 CPU 소유권을 줄 것인가?
- 종류
    - 비선점형 방식
        - 프로세스가 스스로 CPU 소유권을 포기
    - 선점형 방식
        - 현대 운영체제가 사용하는 방식
        - 지금 사용 중인 프로세스를 중단시키고 다른 프로세스에 CPU 소유권 할당

### 평가 기준

1. CPU 이용률(CPU untilization)
    - 시간당 CPU를 사용한 시간의 비율
2. 처리율(Throughput)
    - 시간당 처리한 작업의 비율
    - 단위 시간당 완료되는 작업 수가 많아야함
3. 반환시간(Turnaround Time)
    - 프로세스가 종료되어 사용 자원을 모두 반환하는데까지 걸리는 시간
    - ready-queue에서 기다린 시간 + CPU에서 실행된 시간 + I/O작업 시간
4. 대기시간(Waiting Time)
    - ready-queue에 들어와 CPU를 할당받기까지 기다린 시간
5. 반응시간(응답시간, Response Time)
    - ready-queue에서 처음으로 CPU를 얻을 때까지 걸린 시간
    - 대기시간은 ready-queue에서 기다린 모든 시간, 반응시간은 CPU를 할당받은 최초의 순간까지 기다린 시간 한 번만 측정
- CPU 이용률, 처리율은 극대화하는게 굳
- 반환시간, 대기시간, 반응시간은 줄이는게 좋다

# 3.4.1 비선점형 방식

- 강제로 프로세스를 중지하지 않으므로 컨텍스트 스위칭으로 인한 부하가 적다

### FCFS

- First Come, First Served
- 가장 먼저 온 것을 먼저 처리함
- Convoy Effect(호위 효과)
    - 프로세스가 길게 수행돼 ready-queue에서 오래 기다리는 현상

### SJF

- Shortest Job First
- 실행 시간이 가장 짧은 프로세스를 가장 먼저 실행함
- 긴 시간을 가진 프로세스가 실행되지 않는 starvation 현상이 발생
- 평균 대기시간이 가장 짧다
- 그러나 현실적으로 프로세스의 실행시간을 알 수 없기에 과거 실행시간을 토대로 추측할 뿐

### 우선순위

- SJF에서 starvation 현상을 해결하기 위해 오래 기다린 작업일 수록 우선순위를 높이는 aging을 통해 실행 우선순위를 높임

# 3.4.2 선점형 방식

### 라운드 로빈

- 현대 컴퓨터가 쓰는 우선순위 스케줄링
- 각 프로세스에 **동일한 시간** 할당
    - 시간 안에 끝나지 않으면 ready-queue의 뒤로 돌아감
- 할당 시간
    - 너무 길면 FCFS랑 다를게 없음
    - 너무 짧으면 context switching에 많은 비용을 사용함
        - 전체 작업 시간은 길어지지만 평균 응답 시간은 짧아짐
- 로드밸런서에서 트래픽 분산 알고리즘으로도 사용

### SRF

- Shortest Remaining time First
- **중간에 더 짧은 작업**이 들어오면 수행하던 프로세스를 중지하고 해당 프로세스를 수행

### 다단계 큐

- 우선순위에 따른 ready-queue를 여러 개 사용
- 큐마다 다른 스케줄링 알고리즘을 적용
- 큐 간의 프로세스 이동이 안되므로 스케줄링 부담이 적지만 유연성이 떨어짐