# 2.3 네트워크 기기

## 네트워크 기기의 처리 범위

네트워크 기기는 계층별로 처리 범위가 나뉜다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9cbf80ec-d85e-4eb0-bed5-61055604f363/Untitled.png)

### 라우터

라우팅을 하는 장비

다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 경로를 최적화해 최소 경로로 패킷을 포워딩하는 **라우팅**

### L2 스위치

단순히 패킷의 MAC 주소를 읽어 스위칭하는 역할

### 브리지

두 개의 LAN이 상호 접속할 수 있도록 하는 연결 장치

### NIC

2대 이상의 컴퓨터 네트워크를 구성하는 데 사용

### 리피터

약해진 신호를 증폭해 다른 쪽으로 전달하는 장치

### AP

패킷을 복사하는 기기

## 스위치

네트워크 단위들을 연결하는 통신 장비.

계층에 따라 제공하는 기능이 다르다.

| OSI model | 스위치 종류 | 제공하는 기능 |
| --- | --- | --- |
| Application | L7 | L4의 로드 밸런싱 한계점 개선
L4는 port 단위의 로드 밸런싱을 수행 but, L7은 패킷의 body 내용까지 분석해 수행 |
| Presentation |  |  |
| Session |  |  |
| Trasport | L4 | L3의 기능 plus, 로드 밸런싱
*로드 밸런싱 : 서버나 네트워크의 트랙픽 조절 |
| Network | L3 | L2의 기능 plus, 라우팅
*라우팅 : IP 정보로 데이터의 출발지에서 목적지까지의 경로를 결정하는 것 |
| Data link | L2 | 가장 흔한 스위칭 방식, 패킷의 MAC 주소를 읽어 어떤 포트로 전송할지 판단 후 전송 |
| Physical | 허브 | 단순한 중계기 역할 |

## L4와 L7의 로드 밸런싱 차이

로드 밸런싱 : 서버의 부하를 분산, 클라이언트로부터 오는 요청들을 여러 서버로 나누는 역할

분산하는 기준:

L4 - IP와 포트를 기반으로 트래픽 분산

L7 - URL, 서버, 캐시, 쿠키들을 기반으로 분산 (더 세세한 정보를 기반)

정상적인 서버, 비정상적인 서버 구분 방법 : 헬스 체크

주기적으로 서버에 요청을 보냄

## 로드 밸런싱을 이용한 서버 이중화

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2524bbb5-6c40-4a23-a7b6-0535f6dc15cf/Untitled.png)

서버1에 이상이 생기면 로드 밸런서가 가상 IP를 제공해 안정적인 서비스 제공